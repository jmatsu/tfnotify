{
    "pull_request": {
      "url": "https://api.github.com/repos/mercari/tfnotify/pulls/77",
      "id": 441072323,
      "node_id": "MDExOlB1bGxSZXF1ZXN0NDQxMDcyMzIz",
      "html_url": "https://github.com/mercari/tfnotify/pull/77",
      "diff_url": "https://github.com/mercari/tfnotify/pull/77.diff",
      "patch_url": "https://github.com/mercari/tfnotify/pull/77.patch",
      "issue_url": "https://api.github.com/repos/mercari/tfnotify/issues/77",
      "number": 77,
      "state": "open",
      "locked": false,
      "title": "Add support for GitHub Actions workflow triggered by Pull Request",
      "user": {
        "login": "dtan4",
        "id": 680124,
        "node_id": "MDQ6VXNlcjY4MDEyNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/680124?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dtan4",
        "html_url": "https://github.com/dtan4",
        "followers_url": "https://api.github.com/users/dtan4/followers",
        "following_url": "https://api.github.com/users/dtan4/following{/other_user}",
        "gists_url": "https://api.github.com/users/dtan4/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/dtan4/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dtan4/subscriptions",
        "organizations_url": "https://api.github.com/users/dtan4/orgs",
        "repos_url": "https://api.github.com/users/dtan4/repos",
        "events_url": "https://api.github.com/users/dtan4/events{/privacy}",
        "received_events_url": "https://api.github.com/users/dtan4/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "## WHAT\r\n\r\nThis change enables tfnotify to put comments on GitHub Pull Request, from GitHub Actions **triggered by the same Pull Request (`on.pull_request`)**.\r\n\r\n### Screenshot\r\n\r\n![image](https://user-images.githubusercontent.com/680124/85951317-64c72c00-b99d-11ea-9e38-b25865906afb.png)\r\n\r\n\r\n### Example GitHub Actions workflow\r\n\r\n```yaml\r\n# .github/workflows/terraform-plan.yaml\r\n\r\nname: \"terraform plan for AWS\"\r\non:\r\n  pull_request:\r\n\r\njobs:\r\n  terraform:\r\n    name: \"Terraform\"\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: \"Checkout\"\r\n        uses: actions/checkout@v2\r\n      - name: \"Terraform Init\"\r\n        run: terraform init\r\n      - name: \"Terraform Plan\"\r\n        run: terraform plan | tfnotify --config tfnotify.yaml plan\r\n```\r\n\r\n## WHY\r\n\r\nCurrent GitHub Actions support doesn't support workflow triggered by Pull Request because it doesn't read the target Pull Request number. Therefore, we have to use \"branch push (`on.branches`)\" as workflow trigger.\r\nActually, tfnotify with branch-triggered workflow can also put the comment on the Pull Request timeline. However, it lacks some tfnotify features, like putting labels like `no-changes` based on `terraform plan` result. Therefore, to provide the equivalent experience to GitHub Actions users as well as other CIs, it's better to implement native Pull Request support.\r\n",
      "created_at": "2020-06-28T15:25:55Z",
      "updated_at": "2020-10-05T07:52:32Z",
      "closed_at": null,
      "merged_at": null,
      "merge_commit_sha": "f7ede3dea3d5ca13f5fa07e4375aeeb986123bce",
      "assignee": null,
      "assignees": [
        
      ],
      "requested_reviewers": [
        {
          "login": "b4b4r07",
          "id": 4442708,
          "node_id": "MDQ6VXNlcjQ0NDI3MDg=",
          "avatar_url": "https://avatars.githubusercontent.com/u/4442708?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/b4b4r07",
          "html_url": "https://github.com/b4b4r07",
          "followers_url": "https://api.github.com/users/b4b4r07/followers",
          "following_url": "https://api.github.com/users/b4b4r07/following{/other_user}",
          "gists_url": "https://api.github.com/users/b4b4r07/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/b4b4r07/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/b4b4r07/subscriptions",
          "organizations_url": "https://api.github.com/users/b4b4r07/orgs",
          "repos_url": "https://api.github.com/users/b4b4r07/repos",
          "events_url": "https://api.github.com/users/b4b4r07/events{/privacy}",
          "received_events_url": "https://api.github.com/users/b4b4r07/received_events",
          "type": "User",
          "site_admin": false
        }
      ],
      "requested_teams": [
        
      ],
      "labels": [
        
      ],
      "milestone": null,
      "draft": false,
      "commits_url": "https://api.github.com/repos/mercari/tfnotify/pulls/77/commits",
      "review_comments_url": "https://api.github.com/repos/mercari/tfnotify/pulls/77/comments",
      "review_comment_url": "https://api.github.com/repos/mercari/tfnotify/pulls/comments{/number}",
      "comments_url": "https://api.github.com/repos/mercari/tfnotify/issues/77/comments",
      "statuses_url": "https://api.github.com/repos/mercari/tfnotify/statuses/e6b616cee53d0d0b507509bf7b5544f361b7f47c",
      "head": {
        "label": "mercari:dtan4/support-github-actions-pr",
        "ref": "dtan4/support-github-actions-pr",
        "sha": "e6b616cee53d0d0b507509bf7b5544f361b7f47c",
        "user": {
          "login": "mercari",
          "id": 8133808,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjgxMzM4MDg=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8133808?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/mercari",
          "html_url": "https://github.com/mercari",
          "followers_url": "https://api.github.com/users/mercari/followers",
          "following_url": "https://api.github.com/users/mercari/following{/other_user}",
          "gists_url": "https://api.github.com/users/mercari/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/mercari/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/mercari/subscriptions",
          "organizations_url": "https://api.github.com/users/mercari/orgs",
          "repos_url": "https://api.github.com/users/mercari/repos",
          "events_url": "https://api.github.com/users/mercari/events{/privacy}",
          "received_events_url": "https://api.github.com/users/mercari/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "repo": {
          "id": 128383825,
          "node_id": "MDEwOlJlcG9zaXRvcnkxMjgzODM4MjU=",
          "name": "tfnotify",
          "full_name": "mercari/tfnotify",
          "private": false,
          "owner": {
            "login": "mercari",
            "id": 8133808,
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjgxMzM4MDg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8133808?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mercari",
            "html_url": "https://github.com/mercari",
            "followers_url": "https://api.github.com/users/mercari/followers",
            "following_url": "https://api.github.com/users/mercari/following{/other_user}",
            "gists_url": "https://api.github.com/users/mercari/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mercari/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mercari/subscriptions",
            "organizations_url": "https://api.github.com/users/mercari/orgs",
            "repos_url": "https://api.github.com/users/mercari/repos",
            "events_url": "https://api.github.com/users/mercari/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mercari/received_events",
            "type": "Organization",
            "site_admin": false
          },
          "html_url": "https://github.com/mercari/tfnotify",
          "description": "A CLI command to parse Terraform execution result and notify it to GitHub",
          "fork": false,
          "url": "https://api.github.com/repos/mercari/tfnotify",
          "forks_url": "https://api.github.com/repos/mercari/tfnotify/forks",
          "keys_url": "https://api.github.com/repos/mercari/tfnotify/keys{/key_id}",
          "collaborators_url": "https://api.github.com/repos/mercari/tfnotify/collaborators{/collaborator}",
          "teams_url": "https://api.github.com/repos/mercari/tfnotify/teams",
          "hooks_url": "https://api.github.com/repos/mercari/tfnotify/hooks",
          "issue_events_url": "https://api.github.com/repos/mercari/tfnotify/issues/events{/number}",
          "events_url": "https://api.github.com/repos/mercari/tfnotify/events",
          "assignees_url": "https://api.github.com/repos/mercari/tfnotify/assignees{/user}",
          "branches_url": "https://api.github.com/repos/mercari/tfnotify/branches{/branch}",
          "tags_url": "https://api.github.com/repos/mercari/tfnotify/tags",
          "blobs_url": "https://api.github.com/repos/mercari/tfnotify/git/blobs{/sha}",
          "git_tags_url": "https://api.github.com/repos/mercari/tfnotify/git/tags{/sha}",
          "git_refs_url": "https://api.github.com/repos/mercari/tfnotify/git/refs{/sha}",
          "trees_url": "https://api.github.com/repos/mercari/tfnotify/git/trees{/sha}",
          "statuses_url": "https://api.github.com/repos/mercari/tfnotify/statuses/{sha}",
          "languages_url": "https://api.github.com/repos/mercari/tfnotify/languages",
          "stargazers_url": "https://api.github.com/repos/mercari/tfnotify/stargazers",
          "contributors_url": "https://api.github.com/repos/mercari/tfnotify/contributors",
          "subscribers_url": "https://api.github.com/repos/mercari/tfnotify/subscribers",
          "subscription_url": "https://api.github.com/repos/mercari/tfnotify/subscription",
          "commits_url": "https://api.github.com/repos/mercari/tfnotify/commits{/sha}",
          "git_commits_url": "https://api.github.com/repos/mercari/tfnotify/git/commits{/sha}",
          "comments_url": "https://api.github.com/repos/mercari/tfnotify/comments{/number}",
          "issue_comment_url": "https://api.github.com/repos/mercari/tfnotify/issues/comments{/number}",
          "contents_url": "https://api.github.com/repos/mercari/tfnotify/contents/{+path}",
          "compare_url": "https://api.github.com/repos/mercari/tfnotify/compare/{base}...{head}",
          "merges_url": "https://api.github.com/repos/mercari/tfnotify/merges",
          "archive_url": "https://api.github.com/repos/mercari/tfnotify/{archive_format}{/ref}",
          "downloads_url": "https://api.github.com/repos/mercari/tfnotify/downloads",
          "issues_url": "https://api.github.com/repos/mercari/tfnotify/issues{/number}",
          "pulls_url": "https://api.github.com/repos/mercari/tfnotify/pulls{/number}",
          "milestones_url": "https://api.github.com/repos/mercari/tfnotify/milestones{/number}",
          "notifications_url": "https://api.github.com/repos/mercari/tfnotify/notifications{?since,all,participating}",
          "labels_url": "https://api.github.com/repos/mercari/tfnotify/labels{/name}",
          "releases_url": "https://api.github.com/repos/mercari/tfnotify/releases{/id}",
          "deployments_url": "https://api.github.com/repos/mercari/tfnotify/deployments",
          "created_at": "2018-04-06T11:02:00Z",
          "updated_at": "2021-04-01T15:45:20Z",
          "pushed_at": "2021-01-26T06:44:56Z",
          "git_url": "git://github.com/mercari/tfnotify.git",
          "ssh_url": "git@github.com:mercari/tfnotify.git",
          "clone_url": "https://github.com/mercari/tfnotify.git",
          "svn_url": "https://github.com/mercari/tfnotify",
          "homepage": "",
          "size": 345,
          "stargazers_count": 369,
          "watchers_count": 369,
          "language": "Go",
          "has_issues": true,
          "has_projects": true,
          "has_downloads": true,
          "has_wiki": true,
          "has_pages": false,
          "forks_count": 61,
          "mirror_url": null,
          "archived": false,
          "disabled": false,
          "open_issues_count": 24,
          "license": {
            "key": "mit",
            "name": "MIT License",
            "spdx_id": "MIT",
            "url": "https://api.github.com/licenses/mit",
            "node_id": "MDc6TGljZW5zZTEz"
          },
          "forks": 61,
          "open_issues": 24,
          "watchers": 369,
          "default_branch": "master"
        }
      },
      "base": {
        "label": "mercari:master",
        "ref": "master",
        "sha": "43c307c1b7f712ad0d6ebd13138a6a6fbccd1426",
        "user": {
          "login": "mercari",
          "id": 8133808,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjgxMzM4MDg=",
          "avatar_url": "https://avatars.githubusercontent.com/u/8133808?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/mercari",
          "html_url": "https://github.com/mercari",
          "followers_url": "https://api.github.com/users/mercari/followers",
          "following_url": "https://api.github.com/users/mercari/following{/other_user}",
          "gists_url": "https://api.github.com/users/mercari/gists{/gist_id}",
          "starred_url": "https://api.github.com/users/mercari/starred{/owner}{/repo}",
          "subscriptions_url": "https://api.github.com/users/mercari/subscriptions",
          "organizations_url": "https://api.github.com/users/mercari/orgs",
          "repos_url": "https://api.github.com/users/mercari/repos",
          "events_url": "https://api.github.com/users/mercari/events{/privacy}",
          "received_events_url": "https://api.github.com/users/mercari/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "repo": {
          "id": 128383825,
          "node_id": "MDEwOlJlcG9zaXRvcnkxMjgzODM4MjU=",
          "name": "tfnotify",
          "full_name": "mercari/tfnotify",
          "private": false,
          "owner": {
            "login": "mercari",
            "id": 8133808,
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjgxMzM4MDg=",
            "avatar_url": "https://avatars.githubusercontent.com/u/8133808?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mercari",
            "html_url": "https://github.com/mercari",
            "followers_url": "https://api.github.com/users/mercari/followers",
            "following_url": "https://api.github.com/users/mercari/following{/other_user}",
            "gists_url": "https://api.github.com/users/mercari/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mercari/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mercari/subscriptions",
            "organizations_url": "https://api.github.com/users/mercari/orgs",
            "repos_url": "https://api.github.com/users/mercari/repos",
            "events_url": "https://api.github.com/users/mercari/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mercari/received_events",
            "type": "Organization",
            "site_admin": false
          },
          "html_url": "https://github.com/mercari/tfnotify",
          "description": "A CLI command to parse Terraform execution result and notify it to GitHub",
          "fork": false,
          "url": "https://api.github.com/repos/mercari/tfnotify",
          "forks_url": "https://api.github.com/repos/mercari/tfnotify/forks",
          "keys_url": "https://api.github.com/repos/mercari/tfnotify/keys{/key_id}",
          "collaborators_url": "https://api.github.com/repos/mercari/tfnotify/collaborators{/collaborator}",
          "teams_url": "https://api.github.com/repos/mercari/tfnotify/teams",
          "hooks_url": "https://api.github.com/repos/mercari/tfnotify/hooks",
          "issue_events_url": "https://api.github.com/repos/mercari/tfnotify/issues/events{/number}",
          "events_url": "https://api.github.com/repos/mercari/tfnotify/events",
          "assignees_url": "https://api.github.com/repos/mercari/tfnotify/assignees{/user}",
          "branches_url": "https://api.github.com/repos/mercari/tfnotify/branches{/branch}",
          "tags_url": "https://api.github.com/repos/mercari/tfnotify/tags",
          "blobs_url": "https://api.github.com/repos/mercari/tfnotify/git/blobs{/sha}",
          "git_tags_url": "https://api.github.com/repos/mercari/tfnotify/git/tags{/sha}",
          "git_refs_url": "https://api.github.com/repos/mercari/tfnotify/git/refs{/sha}",
          "trees_url": "https://api.github.com/repos/mercari/tfnotify/git/trees{/sha}",
          "statuses_url": "https://api.github.com/repos/mercari/tfnotify/statuses/{sha}",
          "languages_url": "https://api.github.com/repos/mercari/tfnotify/languages",
          "stargazers_url": "https://api.github.com/repos/mercari/tfnotify/stargazers",
          "contributors_url": "https://api.github.com/repos/mercari/tfnotify/contributors",
          "subscribers_url": "https://api.github.com/repos/mercari/tfnotify/subscribers",
          "subscription_url": "https://api.github.com/repos/mercari/tfnotify/subscription",
          "commits_url": "https://api.github.com/repos/mercari/tfnotify/commits{/sha}",
          "git_commits_url": "https://api.github.com/repos/mercari/tfnotify/git/commits{/sha}",
          "comments_url": "https://api.github.com/repos/mercari/tfnotify/comments{/number}",
          "issue_comment_url": "https://api.github.com/repos/mercari/tfnotify/issues/comments{/number}",
          "contents_url": "https://api.github.com/repos/mercari/tfnotify/contents/{+path}",
          "compare_url": "https://api.github.com/repos/mercari/tfnotify/compare/{base}...{head}",
          "merges_url": "https://api.github.com/repos/mercari/tfnotify/merges",
          "archive_url": "https://api.github.com/repos/mercari/tfnotify/{archive_format}{/ref}",
          "downloads_url": "https://api.github.com/repos/mercari/tfnotify/downloads",
          "issues_url": "https://api.github.com/repos/mercari/tfnotify/issues{/number}",
          "pulls_url": "https://api.github.com/repos/mercari/tfnotify/pulls{/number}",
          "milestones_url": "https://api.github.com/repos/mercari/tfnotify/milestones{/number}",
          "notifications_url": "https://api.github.com/repos/mercari/tfnotify/notifications{?since,all,participating}",
          "labels_url": "https://api.github.com/repos/mercari/tfnotify/labels{/name}",
          "releases_url": "https://api.github.com/repos/mercari/tfnotify/releases{/id}",
          "deployments_url": "https://api.github.com/repos/mercari/tfnotify/deployments",
          "created_at": "2018-04-06T11:02:00Z",
          "updated_at": "2021-04-01T15:45:20Z",
          "pushed_at": "2021-01-26T06:44:56Z",
          "git_url": "git://github.com/mercari/tfnotify.git",
          "ssh_url": "git@github.com:mercari/tfnotify.git",
          "clone_url": "https://github.com/mercari/tfnotify.git",
          "svn_url": "https://github.com/mercari/tfnotify",
          "homepage": "",
          "size": 345,
          "stargazers_count": 369,
          "watchers_count": 369,
          "language": "Go",
          "has_issues": true,
          "has_projects": true,
          "has_downloads": true,
          "has_wiki": true,
          "has_pages": false,
          "forks_count": 61,
          "mirror_url": null,
          "archived": false,
          "disabled": false,
          "open_issues_count": 24,
          "license": {
            "key": "mit",
            "name": "MIT License",
            "spdx_id": "MIT",
            "url": "https://api.github.com/licenses/mit",
            "node_id": "MDc6TGljZW5zZTEz"
          },
          "forks": 61,
          "open_issues": 24,
          "watchers": 369,
          "default_branch": "master"
        }
      },
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/mercari/tfnotify/pulls/77"
        },
        "html": {
          "href": "https://github.com/mercari/tfnotify/pull/77"
        },
        "issue": {
          "href": "https://api.github.com/repos/mercari/tfnotify/issues/77"
        },
        "comments": {
          "href": "https://api.github.com/repos/mercari/tfnotify/issues/77/comments"
        },
        "review_comments": {
          "href": "https://api.github.com/repos/mercari/tfnotify/pulls/77/comments"
        },
        "review_comment": {
          "href": "https://api.github.com/repos/mercari/tfnotify/pulls/comments{/number}"
        },
        "commits": {
          "href": "https://api.github.com/repos/mercari/tfnotify/pulls/77/commits"
        },
        "statuses": {
          "href": "https://api.github.com/repos/mercari/tfnotify/statuses/e6b616cee53d0d0b507509bf7b5544f361b7f47c"
        }
      },
      "author_association": "MEMBER",
      "auto_merge": null,
      "active_lock_reason": null,
      "merged": false,
      "mergeable": true,
      "rebaseable": true,
      "mergeable_state": "clean",
      "merged_by": null,
      "comments": 3,
      "review_comments": 0,
      "maintainer_can_modify": false,
      "commits": 2,
      "additions": 34,
      "deletions": 0,
      "changed_files": 2
    }
}